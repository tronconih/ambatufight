<!DOCTYPE html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<title>MAPS</title>
	<link rel="icon" href="images/logo.png" type="image/icon type">
	<link rel="stylesheet" href="style.css">
	
	<style>
		body{
			cursor: url("cursor/cursor.cur"), auto;
		}

		html{
			background-color: #eed7a1;
			cursor: url("cursor/WiiCursor.png"), auto;
		}
		
		#descrizione{
			text-align:center;
		}
		
		.back{
			margin-left: 50px;
		}
		
	</style>
</head>
<body>
	<div id="tutto">
	
		<h1 id="titolo">CHOOSE YOUR MAPS!</h1>
	
		<div id="mappe">
			<table>
				<tr>
					<td> <img src="images/sfondi/bus.jpg" alt="First Map" id="map1"> </td>
					<td> <img src="images/sfondi/ciscos_world.jpg" alt="Second Map" id="map2"> </td>
					<td> <img src="images/sfondi/polo.jpg" alt="Third Map" id="map3"> </td>
					<td> <img src="images/sfondi/terrazzina.jpg" alt="Third Map" id="map4"> </td>
				<tr>
				<tr id = "descrizione">
					<td>I'm BUSSING</td>
					<td>Cisco's world</td>
					<td>Volkswagen POLO</td>
					<td>Terrazzina</td>
				<tr>
			</table>
		</div>
		
		<button class = "back" id="allezBack" target="" >Back</a></button>
		<button class = "next" id="allezForward" target="" >Next</a></button>
		
	</div>
	
	<script>
	var bus = new Audio('audio/bus.mp3');
	var selected = new Audio('audio/selected.mp3');
	
	let selezione = false;
	
	let delta = 60 / 1000
	setInterval(() => {
		if(selezione){
			document.getElementById("allezForward").onclick = nextMap;
		}
		
	}, delta)
	
	document.getElementById("allezBack").onclick = backHome;
	
	function backHome(){
		location.replace("characters-v2.html");
	}
	
	function nextMap(){
		location.replace("index.html");
	}
	
	$(document).ready(function () {
		
		$("#map1").click(function () {
			bus.play();
			$("#map1").css("border","2px solid red");
			$("#map2").css("border","");
			$("#map3").css("border","");
			$("#map4").css("border","");
			$("#map1").css("transform", "scale(1.1)");
			$("#map2").css("transform", "scale(1.0)");
			$("#map3").css("transform", "scale(1.0)");
			$("#map4").css("transform", "scale(1.0)");
			localStorage.setItem("mappa", "bus.jpg");
			selezione = true;
			disabled
		});
		
		$("#map2").click(function () {
			selected.play();
			$("#map2").css("border","2px solid red");
			$("#map1").css("border","");
			$("#map3").css("border","");
			$("#map4").css("border","");
			$("#map2").css("transform", "scale(1.1)");
			$("#map1").css("transform", "scale(1.0)");
			$("#map3").css("transform", "scale(1.0)");
			$("#map4").css("transform", "scale(1.0)");
			localStorage.setItem("mappa", "ciscos_world.jpg");
			selezione = true;
		});
		
		$("#map3").click(function () {
			selected.play();
			$("#map3").css("border","2px solid red");
			$("#map1").css("border","");
			$("#map2").css("border","");
			$("#map4").css("border","");
			$("#map3").css("transform", "scale(1.1)");
			$("#map1").css("transform", "scale(1.0)");
			$("#map2").css("transform", "scale(1.0)");
			$("#map4").css("transform", "scale(1.0)");
			localStorage.setItem("mappa", "polo.jpg");
			selezione = true;
		});
		
		$("#map4").click(function () {
			selected.play();
			$("#map4").css("border","2px solid red");
			$("#map1").css("border","");
			$("#map2").css("border","");
			$("#map3").css("border","");
			$("#map4").css("transform", "scale(1.1)");
			$("#map1").css("transform", "scale(1.0)");
			$("#map2").css("transform", "scale(1.0)");
			$("#map3").css("transform", "scale(1.0)");
			localStorage.setItem("mappa", "terrazzina.jpg");
			selezione = true;
		});
		
	});
	
	</script>
	
</body>
</html>